from django.shortcuts import render
from django.http import HttpResponse, Http404
from Products.models import Product,Category
from Products import views as productViews
import Products.view_data
import json


def my_cart(request):
    cart = None
    if("cart" in request.session):
        cart = json.loads(request.session['cart'])
        
    recent_products = productViews.get_recent_products(request)
    
    return render(request, 'myCart.html', {'cart':cart,'recent':recent_products})

def checkout(request):
    
            
    return render(request, 'checkout.html', {})

def contact_us(request):
    
    
    return render(request,'contact.html')

def about_us(request):
    
    
    return render(request,'contact.html')

def home(request):
    categories = Products.view_data.get_categories()
    home_products = Products.view_data.get_home_products()
    recent_products = productViews.get_recent_products(request)
            
    return render(request, 'home.html', {'categories':categories,'products':home_products,'recent':recent_products})


